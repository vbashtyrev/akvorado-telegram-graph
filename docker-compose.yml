# Akvorado Telegram Graph Bot (только бот; ClickHouse — в другом проекте/контейнере)
# ClickHouse слушает 127.0.0.1:8123 на хосте → бот с network_mode: host видит тот же 127.0.0.1:8123.
# Использование: cp .env.example .env, задать TELEGRAM_BOT_TOKEN, затем: docker compose up -d

services:
  bot:
    build: .
    image: akvorado-telegram-graph:latest
    container_name: akvorado-telegram-graph
    restart: unless-stopped
    network_mode: host
    env_file: .env
    environment:
      CLICKHOUSE_URL: http://127.0.0.1:8123
    volumes:
      - ./config.yaml:/config/config.yaml:ro
